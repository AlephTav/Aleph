Aleph\\Cache\\File
==================



Общая информация
----------------

**Наследование:** Aleph\\Cache\\Cache

**Дочерние классы:** нет

**Интерфейсы:** ArrayAccess, Countable

**Источник:** `lib/cache/file.php`



Класс для кэширования данных на базе файловой системы. Кэшируемые данные
сериализуются и помещаются в отдельный файл, который находится в заданной папке
(директория кэша). Поскольку файловая система не позволяет автоматически удалять
просроченные файлы кэша, то в классе реализован метод `gc`, позволяющий отчищать
кэш от невалидных данных.



Общедоступные статические методы
--------------------------------



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static boolean isAvailable()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает всегда TRUE, т.к. файловая система всегда доступна.



Общедоступные нестатические методы
----------------------------------



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public string getDirectory()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает текущую директорию кэша.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public void setDirectory(string $path = null)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$path** - директория кэша.

Устанавливает директорию для хранения файлов кэша. Если такой директории не
существует, то фрэймворк попытается создать её.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public void set(string $key, mixed $content, integer $expire, string $group = '')
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$key** - уникальный идентификатор кэшируемых данных.

    -   **$content** - данные подлежащие кэшированию.

    -   **$expire** - время жизни кэша в секундах.

    -   **$group** - имя группы кэша.

Сохраняет данные в кэше по их уникальному идентификатору.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public mixed get(string $key)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$key** - уникальный идентификатор кэшируемых данных.

Возвращает данные сохранённые в кэше по их идентификатору.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public void remove(string $key)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$key** - уникальный идентификатор кэшируемых данных.

Удаляет данные из кэша по их идентификатору.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public boolean isExpired(string $key)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$key** - уникальный идентификатор кэшируемых данных.

Возвращает TRUE, если время жизни кэша истекло и FALSE в противном случае. Если
время жизни кэша истекло, то файл кэша будет удалён.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public void clean()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Удаляет все данные из кэша.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public void gc(float $probability = 100)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$probability** - вероятность срабатывания метода.

Запускает с заданной вероятностью чистку невалидных (просроченных) данных кэша.
