Aleph
=====



Общая информация
----------------

**Наследование:** нет

**Дочерние классы:** нет

**Интерфейсы:** ArrayAccess

**Источник:** `lib/aleph.php`



Класс Aleph является главным классом фрэймворка осуществляющим его базовые
функции:

-   Перехват и обработка ошибок.

-   "Ленивая" загрузка классов.

-   Работа с конфигурационными файлами приложения.

-   Реализация шаблона проектирования Registry.

-   Предоставление простейших средств логирования и профилирования.

Кроме перечисленного функционала Aleph предоставляет ряд вспомогательных
методов, которые могут быть полезны при проектировании любого веб-приложения.



Общедоступные статические методы
--------------------------------



### Общие методы

Могут быть использованы для получения различной информации или выполнения часто
встречающихся действий.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static Aleph init()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Инициализация фрэймворка. Возвращает объект класса Aleph.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static Aleph getInstance()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает экземпляр Aleph, либо NULL, если фрэймворк не был проинициализирован
(не был вызван метод Aleph::init).



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static string getRoot()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает полный путь к рабочей директории сайта (DOCUMENT ROOT). Если
фрэймворк не был проинициализирован метод вернёт NULL.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static string getSiteUniqueID()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает уникальный идентификатор сайта, который определяется как md5
от`$_SERVER['DOCUMENT_ROOT']`.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static void setOutput(string $output)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$output** - тело ответа сервера.

Устанавливает тело ответа сервера, при этом вся информация уже попавшая в буфер
вывода будет игнорироваться.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static string getOutput()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает установленное тело ответа сервера.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static string exe(string $code, array $vars = null)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$code** - подлежащий выполнению php код вставленный в html.

    -   **$vars** - ассоциативный массив переменных, которые будут извлечены в
        php код.

Выполняет встроенный в html код на php и возращает результат.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static string dir(string $dir)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$dir** - путь к директории сайта либо его алиас.

Возвращает полный путь к какой-либо директории сайта. Параметром метода может
быть полный путь к директории, путь к директории относительно корня сайта, а
также алиас директории, задаваемый в конфигурационном файле сайта.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static string url(string $url)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$url** - URL директории сайта либо её алиас.

Возвращет URL некоторой директории сайта, определяемой по пути относительно
корня сайта либо её алиасом.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static void log(mixed $data)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$data** - данные для логирования.

Записывает в файловый лог произвольные данные. Помимо данных переданных в метод
в лог будет записана дополнительная информация о среде выполнения скрипта (IP
адрес, ID сессии, URL запроса, текущая метка времени, содержимое сессии, куки и
т.д.)



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static void go(string $url, boolean $inNewWindow = false, boolean $immediately = true)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$url** - URL для перехода.

    -   **$inNewWindow** - определяет нужно ли открывать новое окно браузера.

    -   **$immediately** - определяет будет ли переход осуществлён немедленно и
        прекращенно выполнение скрипта.

Осуществляет переход по указанному адресу. Если второй параметр равен TRUE, то
будет открыто новое окно браузера. В противном случае переход будет осуществлён
в текущем окне. Третий параметр позволяет выполнять отложенный переход, если
равен FALSE. В таком случае после вызова метода выполнение скрипта не
прекращается и переход будет осуществлён после его полной отработки.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static void reload(boolean $immediately = true)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$immediately** - определяет будет ли перезагрузка осуществлённа
        немедленно и прекращенно выполнение скрипта.

Осуществляет перезагрузку страницы. Если параметр равен FALSE, выполнение
скрипта не прекращается в результате вызова метода и перезагрузка происходит
после его полной отработки. В противном случае скрипт прерыввет свою работу и
перезагрузка осуществляется немедленно.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static mixed delegate(mixed $callback, mixed $arg1, mixed $arg2, ... )
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$callback** - делегат, строка делегата или любой callable объект.

    -   Аргументы  функции обратного вызова.

Вызывает функцию обратного вызова по ссылке на неё в формате Aleph.



### Методы профилирования

Позволяют замерять время выполнения произвольных участков кода, а также получать
информацию о расходуемой памяти в процессе выполнеения скрипта.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static void pStart(string $key)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$key** - идентификатор профилируемого блока кода.

Запоминает текущее значение времени для профилируемого блока кода.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static float pStop(string $key)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$key** - идентификатор профилируемого блока кода.

Возвращает время выполнения блока кода по его идентификатору. Если никакой блок
кода не связан с переданным идентификатором метод вернёт FALSE.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static float getExecutionTime()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает время выполнения скрипта в секундах. При этом за начало выполнения
скрипта принимается вызов метода init.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static float getRequestTime()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает время запроса к серверу в секундах.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static integer getMemoryUsage()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает количество выделенной скрипту памяти в байтах.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static integer getPeakMemoryUsage()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает пиковое значение объема памяти в байтах, выделенной скрипту.



### Registry методы

Сововкупность этих методов представляет собой реализацию шаблона проектирования
Registry - глобального пула общедоступных объектов различной природы.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static array all()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает ассоциативный массив глобальных объектов.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static mixed get(string $key)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$key** - ключ, ассоциированный с глобальным объектом.

Возвращает ранее сохранённый глобальный объект, либо NULL если объекта с таким
ключом не существует.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static void set(string $key, mixed $value)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$key** - ключ, ассоциированный с глобальным объектом.

    -   **$value** - значение глобального объекта.

Связывает некоторое значение с заданным ключом и сохраняет его в хранилище
глобальных объектов.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static boolean has(string $key)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$key** - ключ, ассоциированный с глобальным объектом.

Возвращает TRUE, если для заданного ключа существует глобальный объект и FALSE в
противном случае.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static void remove(string $key)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$key** - ключ, ассоциированный с глобальным объектом.

Удаляет глобальный объект из хранилища по его ключу.



### Методы для перехвата и обработки ошибок

Эти методы позволяют перехватывать все виды ошибок и исключений а также
управлять реакцией фрэймворка на эти ошибки.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static void errorHandling(boolean $enable = true, integer $errorLevel = null)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$enable** - признак режима перехвата исключений (ошибок).

    -   **$errorLevel** - уровень чувствительности к ошибкам.

Включает и отключает режим перехвата ошибок, а также задаёт чувствительность к
ошибкам. Если первый параметр равен TRUE, то будет включён режим перехвата, при
котором любая ошибка или исключение в скрипте будут перехватываться и
обрабатываться фрэймворком. Второй параметр позволяет задавать чувствительность
к определённым видам ошибок. Если этот параметр не определён, то будет
установлен уровень чувствительности заданный в php.ini



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static boolean isErrorHandlingEnabled()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает TRUE, если включён режим перехвата исключений (ошибок) и FALSE в
противном случае.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static string error(string|object $class, string $token, mixed $var1, mixed $var2, ... )
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$class** - класс содержащий токен ошибки.

    -   **$token** - токен ошибки, название константы шаблона ошибки
        определённой в некотором классе.

    -   Параметры шаблона (токена) ошибки.

Формирует сообщение об ошибке, задаваемое некоторым токеном (шаблоном) ошибки.
Параметры (переменные шаблона) внутри шаблона ошибки задаются с помощью
специального обозначения: [{var}]. При этом замена переменных шаблона на их
реальные значения происходит слева направо.

В зависимости от значения передаваемых параметров возможны три основных случая:

-   В качестве токена ошибки используется обычная параметризованная строка, не
    являющаяся константой какого-либо класса. В этом случае первый параметр
    равен пустой строке или FALSE. Пример:

    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    // Получим 'Simple error template: 1, 2';
    echo Aleph::error(false, 'Simple error template: [{var}], [{var}]', 1, 2);
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-   Шаблон ошибки определён как константа некоторого класса. Причём класс задан
    как объект. Пример:

    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    class A
    {
      const ERR_1 = '[{var}] error template[{var}]';
    }

    $a = new A;

    // Выведет 'Test error template! (Token: A::ERR_1)'
    echo Aleph::error($a, 'ERR_1', 'Test', '!');
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-   Шаблон ошибки задан как константа некоторого класса. Вместо объекта класса
    передаём имя класса. Пример:

    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    class A
    {
      const ERR_1 = '[{var}] error template[{var}]';
    }

    // Выведет 'Test error template! (Token: A::ERR_1)'
    echo Aleph::error('A', 'ERR_1', 'Test', '!');

    // Также возможен более компактный вариант записи (с тем же результатом):
    echo Aleph::error('A::ERR_1', 'Test', '!');
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static void exception(\Exception $e)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$e** - объект исключения.

Завершает выполнение скрипта и выводит, в случае включённого режима отладки,
информацию о переданном в качестве параметра метода исключении. Если режим
отладки отключён метод просто выведет уведомление о возникшей ошибке.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static array analyzeException(\Exception $e)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$e** - объект исключения.

Возвращает исчерпывающую информацию об исключении в виде ассоциативного массива.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static string ecode(string $code)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$code** - некоторый php-код.

Сохраняет строку php-кода, переданного в метод для последующего анализа ошибок,
которые могут возникнуть при выполнении этого кода оператором eval. Метод
возвращает то же самое значение, что и принимает в качестве аргумента.

В процессе разработки возникают ситуации когда необходимо выполнить некоторый
php-код в процессе работы скрипта. Для этого часто применяют конструкцию eval.
Однако отладка ошибок в этом случае затруднена. Для улучшения процесса отладки
кода выполняемого через eval и предназначен этот метод. Всё что нужно это
совместить вызов метода ecode с оператором eval. Пример:

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
eval(Aleph::ecode("echo 'Hello World!';"));
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public static void fatal()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Служит для выявления фатальных ошибок или ошибок парсинга. Метод вызывается
автоматически при завершении работы скрипта.



Общедоступные нестатические методы
----------------------------------



### Методы конфигурирования

Эти методы предназначенны для загрузки конфигурационных файлов приложения, а
также для доступа к конфигурационным данным.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public Aleph|array config(string|array $param = null, boolean $replace = false)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$param** - путь к конфигурационному файлу, либо ассоциативный массив
        конфигурационных данных.

    -   **$replace** - определяет нужно ли заменять имеющиеся конфигурационные
        данные новыми.

Загружает конфигурационные данные из файла или возвращает их, если не задан
первый параметр. При этом загружаемые данные сливаются с уже имеющимися. Если
необходимо переписать старые данные новыми, то второй параметр метода должен
быть TRUE.

В качестве конфигурационных файлов могут быть использованы ini-файлы, либо
php-файлы внутри кторого возвращается массив конфигурационных данных:

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
<?php

return [...];
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public void offsetSet(mixed $var, mixed $value)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$var** - название конфигурационной переменной.

    -   **$value** - значение конфигурационной переменной.

Добавляет новую конфигурационную переменную либо изменяет значение существующей.
Метод является частью интерфейса ArrayAccess. Пример:

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// Получаем экземпляр класса Aleph
$a = Aleph::getInstance();

// Добавляем новую переменную "foo"
$a['foo'] = 'test';
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public mixed offsetGet(mixed $var)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$var** - название конфигурационной переменной.

Возвращает значение конфигурационной переменной по её имени. Если переменной с
таким именем не существует, то метод вернёт NULL. Метод является частью
интерфейса ArrayAccess. Пример:

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// Получаем экземпляр класса Aleph
$a = Aleph::getInstance();

// Получаем значение переменной "foo"
echo $a['foo'];
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public boolean offsetExists(mixed $var)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$var** - название конфигурационной переменной.

Возвращает TRUE, если конфигурационная переменная существует и не равна NULL и
FALSE в противном случае. Метод является частью интерфейса ArrayAccess. Пример:

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// Получаем экземпляр класса Aleph
$a = Aleph::getInstance();

// Проверяем переменную "foo" на существование.
var_dump(isset($a['foo']));
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public void offsetUnset(mixed $var)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$var** - название конфигурационной переменной.

Удаляет конфигурационную переменную по её имени. Метод является частью
интерфейса ArrayAccess. Пример:

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// Получаем экземпляр класса Aleph
$a = Aleph::getInstance();

// Удаляет переменную "foo"
unset($a['foo']);
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



### Методы загрузчика классов

Используются для управления работой загрузчика классов, а также для явной
загрузки классов.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public void setClasses(array $classes)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$classes** - массив путей к файлам с классами.

Устанавливает массив путей к файлам с классами. Информация о путях к файлам
будет использоваться загрузчиком для автоматического подключения классов.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public array getClasses()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает массив путей к файлам с классами. Ключами этого массива являются
названия классов в нижнем регистре, а значениями полный путь к файлам содержащим
эти классы.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public void setExclusions(array $exclusions)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$exclusions** - массив файлов и директорий которые не должны
        участвовать в поиске классов.

Задаёт список файлов и директорий, в которых не будет производиться поиск
классов. При этом из поиска выпадает не только сама директория но и все её
поддиректории.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public array getExclusions()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает массив файлов и директорий, которые исключены из поиска классов.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public void setDirectories(array $directories)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$directories** - массив директорий в которых будет осуществляться
        поиск классов.

Задаёт ассоциативный массив директорий для поиска классов. Ключами массива
являются директории в которых будет производиться поиск классов, а значениями
булевое значение, определяющее необходимость рекурсивного поиска в этих
директориях (если TRUE ищем рекурсивно).



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public array getDirectories()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает массив директорий в которых производится поиск классов.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public void setMask(string $mask)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$mask** - регулярное выражения применяемое к имени файла.

Задаёт регулярное выражение для сопоставления с именами файлов найденных в
процессе поиска классов. Если выражение не совпадает с именем файла, то поиск
классов в таком файле не происходит.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public string getMask()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает регулярное выражение применяемое к имени файла в процессе поиска
классов.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public void setAutoload(mixed $callback)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$callback** - делегат, строка делегата или любой callable объект.

Устанавливает функцию обратного вызова для автозагрузки классов. Функция будет
вызываться всякий раз когда интерпретатор php встречает неопределённый класс
(интерфейс или трэйт). В функцию передаётся имя подгружаемого класса и массив
путей к файлам с классами. Также на неё перекладывается обязанность за подгрузку
классов.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public Aleph\Core\IDelegate getAutoload()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает делегат вызываемый при автоподгрузке классов.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public integer|boolean load(string $class = null)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$class** - имя загружаемого класса.

Позволяет загрузить какой-либо класс по его имени. При этом метод вернёт TRUE в
случае успеха и FALSE в случае неудачи. Если аргумент метода не задан, то будет
выполнен поиск всех классов в разрешённых директориях. В этом случае метод
возвращает число найденных классов.



### Дополнительные методы

Позволяют получать экземпляры наиболее часто использующихся классов.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public Aleph\Cache\Cache cache(Aleph\Cache\Cache $cache = null)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:**

    -   **$cache** - объект кэширования.

Устанавливает объект кэширования, который будет использоваться затем другими
классами фрэймворка. Если параметр метода не задан, то будет возвращён текущий
объект кэширования.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public Aleph\Net\Request request()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает объект класса Aleph\\Net\\Request, который содержит информацию о
текущем HTTP-запросе.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public Aleph\Net\Response response()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает объект класса Aleph\\Net\\Response, который содержит информацию об
ответе сервера на текущий HTTP-запрос.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public Aleph\Net\Router router()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Параметры:** нет

Возвращает объект маршрутизатора.
