# Aleph\Core\Event #

## Общая информация ##

|||
| --- | --- | --- |
| **Наследование** | нет |
| **Дочерние классы** | нет |
| **Интерфейсы** | нет |
| **Файл** | lib/Core/Event.php |

Класс представляет собой простейшую реализацию шаблона проектирования "Наблюдатель" и позволяет привязывать один или несколько делегатов к некоторому событию с последующим вызовом всех этих делегатов по имени события.

## Общедоступные статические методы ##

### **listen()**

```php
public static void listen(string $event, mixed $listener, integer $priority = null, boolean $once = false)
```

||||
| --- | --- | --- |
| **$event** | string | имя события. |
| **$listener** | mixed | делегат который будет ассоциирован с этим событием. |
| **$priority** |integer | приоритет вызова делегата. |
| **$once** | boolean | если равен TRUE, то делегат будет вызван один раз с последующим удалением из подписки на событие. |

Связывает делегат с некоторым событием. Позволяет устанавливать приоритет вызова делегата. Делегаты с более высоким приоритетом вызываются в первую очередь.

### **once()**

```php
public static void once(string $event, mixed $listener, integer $priority = null)
```

||||
| --- | --- | --- |
| **$event** | string | имя события. |
| **$listener** | mixed | делегат который будет ассоциирован с этим событием. |
| **$priority** | intege | приоритет вызова делегата. |

Связывает делегат с некоторым событием. Делегат вызывается один раз после чего удаляется из подписки на событие.

### **listeners()**

```php
public static integer listeners(string $event = null)
```

||||
| --- | --- | --- |
| **$event** | string | имя события. |

Возвращает количество делегатов подписанных на заданное событие. Если событие не определено, то метод вернёт общее количество делегатов подписанных на все события.

### **remove()**

```php
public static void remove(string $event = null, mixed $listener = null)
```

||||
| --- | --- | --- |
| **$event** | string | имя события. |
| **$listener** | mixed | делегат который будет ассоциирован с этим событием. |

Удаляет делегат из подписки на заданное событие. Если **$listener** не задан, то метод удалит заданное события. Если **$event** не определён, то все события будут удалены. 

### **fire()**

```php
public static void fire(string $event, array $args = [])
```

||||
| --- | --- | --- |
| **$event** | string | имя события. |
| **$args** | array | массив аргументов которые будут переданы делегатам заданного события. |

Последовательно, в соотвествии с их приоритетом, вызывает делегаты события. В качестве первого аргумента делегат получает имя события. Если какой-либо делегат вернёт FALSE, то все последующие делегаты события не будут вызваны.
