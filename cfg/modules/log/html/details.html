<?php if (is_array($log) && array_key_exists('isFatalError', $log)){ ?>
<h6>Error Log (<?php echo htmlspecialchars($file); ?>)</h6>
<table class="bordertable">
  <thead>
		  <tr>
				  <th>Name</th>
						<th>Value</th>
				</tr>
		</thead>
		<tbody>
		  <tr>
				  <td>Time</td>
						<td><?php echo htmlspecialchars($log['time']); ?></td>
				</tr>
    <tr>
				  <td>Session ID</td>
						<td><?php echo htmlspecialchars($log['sessionID']); ?></td>
				</tr>
    <tr>
      <td>Fatal Error</td>
      <td><?php echo ($log['isFatalError'] ? 'Yes' : 'No'); ?></td>
    </tr>
    <tr>
      <td>Memory Usage</td>
      <td><?php echo htmlspecialchars($log['memoryUsage']); ?> Mb</td>
    </tr>
    <tr>
      <td>Execution Time</td>
      <td><?php echo htmlspecialchars($log['executionTime']); ?> sec.</td>
    </tr>
    <tr>
      <td>Error Message</td>
      <td><?php echo htmlspecialchars($log['message']); ?></td>
    </tr>
    <tr>
      <td>File</td>
      <td><?php echo htmlspecialchars($log['file']); ?></td>
    </tr>
    <tr>
      <td>Line</td>
      <td><?php echo htmlspecialchars($log['line']); ?></td>
    </tr>
    <tr>
      <td>Severity</td>
      <td><?php echo htmlspecialchars($log['severity']); ?></td>
    </tr>
    <tr>
      <td>Class</td>
      <td><?php echo htmlspecialchars($log['class'] ?: '-'); ?></td>
    </tr>
    <tr>
      <td>Token</td>
      <td><?php echo htmlspecialchars($log['token'] ?: '-'); ?></td>
    </tr>
    <tr>
      <td>Trace (as string)</td>
      <td><?php echo nl2br(htmlspecialchars($log['traceAsString'])); ?></td>
    </tr>
    <tr>
      <td>Request</td>
      <td><textarea><?php echo htmlspecialchars(json_encode($log['request'])); ?></textarea></td>
    </tr>
    <tr>
      <td>Response</td>
      <td><textarea><?php echo htmlspecialchars(json_encode($log['response'])); ?></textarea></td>
    </tr>
    <tr>
      <td>$_GET</td>
      <td><textarea><?php echo htmlspecialchars(json_encode($log['GET'])); ?></textarea></td>
    </tr>
    <tr>
      <td>$_POST</td>
      <td><textarea><?php echo htmlspecialchars(json_encode($log['POST'])); ?></textarea></td>
    </tr>
    <tr>
      <td>$_FILES</td>
      <td><textarea><?php echo htmlspecialchars(json_encode($log['FILES'])); ?></textarea></td>
    </tr>
    <tr>
      <td>$_COOKIE</td>
      <td><textarea><?php echo htmlspecialchars(json_encode($log['COOKIE'])); ?></textarea></td>
    </tr>
    <tr>
      <td>$_SERVER</td>
      <td><textarea><?php echo htmlspecialchars(json_encode($log['SERVER'])); ?></textarea></td>
    </tr>
    <tr>
      <td>$_SESSION</td>
      <td><textarea><?php echo htmlspecialchars(json_encode($log['SESSION'])); ?></textarea></td>
    </tr>
    <tr>
      <td colspan="2">
        <h5>Trace</h5><br />
        <div class="log-trace">
          <?php foreach ($log['trace'] as $row){ ?>
          <b>File:</b> <?php echo htmlspecialchars($row['file']); ?><br />
          <?php if (isset($row['line'])){ ?>
          <b>Line:</b> <?php echo (int)$row['line']; ?><br />
          <b>Code:</b>
          <script type="syntaxhighlighter" class="brush:php;first-line:<?php echo ($row['line'] - $row['index']); ?>;highlight:<?php echo (int)$row['line']; ?>"><![CDATA[<?php echo $row['code']; ?>]]></script>
          <?php }else{?>
          <b>Command:</b> <?php echo htmlspecialchars($row['command']); ?><br /><br />
          <?php } ?>
          <?php } ?>
        </div>
      </td>
    </tr>
  </tbody>
</table>
<?php }else{ ?>
<h6>Custom Log (<?php echo htmlspecialchars($file); ?>)</h6>
<textarea style="height:661px;"><?php echo htmlspecialchars(json_encode($log)); ?></textarea>
<?php } ?>